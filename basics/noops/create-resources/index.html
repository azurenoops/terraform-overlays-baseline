
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../syntax/">
      
      
        <link rel="next" href="../update-resources/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.4.14">
    
    
      
        <title>Create resources - Azure NoOps Terraform Baseline Guide</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-resources" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Azure NoOps Terraform Baseline Guide" class="md-header__button md-logo" aria-label="Azure NoOps Terraform Baseline Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 96c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256h-64V96H128v256H64V96zM0 403.2C0 392.6 8.6 384 19.2 384h601.6c10.6 0 19.2 8.6 19.2 19.2 0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zm112-34 48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Azure NoOps Terraform Baseline Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Create resources
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_3">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="hhttps://github.com/azurenoops/terraform-overlays-baseline" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    azurenoops/terraform-overlays-baseline
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../best-practices/overview/" class="md-tabs__link">
          
  
  Best Practices

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  Basics

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="https://registry.terraform.io/search/modules?namespace=azurenoops&provider=azure" class="md-tabs__link">
          
  
  Reusable Modules

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../developing-modules/overview/" class="md-tabs__link">
          
  
  Developing Modules

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../deployment/prerequisites/" class="md-tabs__link">
          
  
  Deployment Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../faq/" class="md-tabs__link">
          
  
  FAQ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../platform-engineering/overview/" class="md-tabs__link">
          
  
  Platform Engineering Workshop

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Azure NoOps Terraform Baseline Guide" class="md-nav__button md-logo" aria-label="Azure NoOps Terraform Baseline Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 96c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256h-64V96H128v256H64V96zM0 403.2C0 392.6 8.6 384 19.2 384h601.6c10.6 0 19.2 8.6 19.2 19.2 0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zm112-34 48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/></svg>

    </a>
    Azure NoOps Terraform Baseline Guide
  </label>
  
    <div class="md-nav__source">
      <a href="hhttps://github.com/azurenoops/terraform-overlays-baseline" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    azurenoops/terraform-overlays-baseline
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Home
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Best Practices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../best-practices/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../best-practices/key-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Key concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../best-practices/code-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../best-practices/naming-conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Naming conventions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../best-practices/security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Basics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Terraform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Terraform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/prerequisites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/use-case/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Case
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syntax
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/create-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/update-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Update resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/destroy-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Destroy resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Azure NoOps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Azure NoOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prerequisites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-case/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Case
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syntax
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Create resources
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../update-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Update resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../destroy-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Destroy resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reusable Modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reusable Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://registry.terraform.io/search/modules?namespace=azurenoops&provider=azure" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module library
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Developing Modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developing Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developing-modules/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developing-modules/module-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developing-modules/module-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developing-modules/module-documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Deployment Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Deployment Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/prerequisites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/remote-state-storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terraform Remote State
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mission Enclave Landing Zone Starter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Mission Enclave Landing Zone Starter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing_zone_networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-cleanup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cleanup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mission Enclave Landing Zone Starter with AKS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Mission Enclave Landing Zone Starter with AKS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing_zone_networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-aks.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration of AKS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-cleanup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cleanup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/landing-zone/landing-zone-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mission Enclave Policy Starter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Mission Enclave Policy Starter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy-governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Policy Governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy-def/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Policy Definitions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy-remediation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Policy Remediation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy-planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning the Landing Zone Policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy-manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy-github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/policy/policy-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mission Enclave Sentinel Starter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Mission Enclave Sentinel Starter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/sentinel/sentinel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/sentinel/sentinel-planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning the Sentinel Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/sentinel/sentinel-manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/sentinel/sentinel-github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/sentinel/sentinel-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
        
          
          <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mission Enclave Encrypted Transport Starter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            Mission Enclave Encrypted Transport Starter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/encrypted-transport/encrypted-transport/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/encrypted-transport/encrypted-transport-planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/encrypted-transport/encrypted-transport-manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/encrypted-transport/encrypted-transport-github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/encrypted-transport/encrypted-transport-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/add-ons/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mission Enclave Reference Add-Ons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deployment/github-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            FAQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Platform Engineering Workshop
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Platform Engineering Workshop
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Prerequisites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/prerequisites/ade.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Deployment Environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/prerequisites/backstage.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backstage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Use Cases
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/use-cases/ade.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Deployment Environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/use-cases/backstage.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backstage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Labs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5_1" >
        
          
          <label class="md-nav__link" for="__nav_8_5_1" id="__nav_8_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Azure Deployment Environments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5_1">
            <span class="md-nav__icon md-icon"></span>
            Azure Deployment Environments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/ade/syntax.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/ade/create-resources.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/ade/update-resources.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/ade/destroy-resources.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/ade/summary.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5_2" >
        
          
          <label class="md-nav__link" for="__nav_8_5_2" id="__nav_8_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Backstage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5_2">
            <span class="md-nav__icon md-icon"></span>
            Backstage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/backstage/syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working with Syntax
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/backstage/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Backstage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/backstage/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Backstage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/backstage/add-identity.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Authentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5_2_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5_2_5" id="__nav_8_5_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Add Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_5_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5_2_5">
            <span class="md-nav__icon md-icon"></span>
            Add Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/backstage/add-github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform-engineering/labs/backstage/summary.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summery
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="create-resources">Create resources<a class="headerlink" href="#create-resources" title="Permanent link">&para;</a></h1>
<p>Let's create an Azure Storage account using Terraform:</p>
<ol>
<li>
<p>Open Visual Studio Code.</p>
</li>
<li>
<p>Create a file <code>versions.tf</code>.</p>
</li>
<li>
<p>Configure the Azure provider:</p>
<div class="highlight"><pre><span></span><code><span class="nb">terraform</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">required_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&gt;= 1.3&quot;</span>
<span class="w">  </span><span class="nb">required_providers</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">azurerm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="na">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hashicorp/azurerm&quot;</span>
<span class="w">      </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;~&gt; 3.36&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">&quot;azurerm&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">features</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<details><summary>Show `versions.tf` contents</summary>
    <div class="highlight"><pre><span></span><code><span class="go">terraform {</span>
<span class="go">  required_version = &quot;&gt;= 1.3&quot;</span>
<span class="go">  required_providers {</span>
<span class="go">    azurerm = {</span>
<span class="go">      source  = &quot;hashicorp/azurerm&quot;</span>
<span class="go">      version = &quot;~&gt; 3.36&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>

<span class="go">provider &quot;azurerm&quot; {</span>
<span class="go">  features {}</span>
<span class="go">}</span>
</code></pre></div>
    </details>

<ol>
<li>
<p>Create a file <code>variables.global.tf</code>.</p>
</li>
<li>
<p>Define the global variables:</p>
<div class="highlight"><pre><span></span><code><span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;deploy_environment&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The environment in which the resources will be created.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dev&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;org_name&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The name of the organization.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;environment&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The environment in which the resources will be created.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;public&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;workload_name&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The name of the workload.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;storage&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;location&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The location/region where the resources will be created.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;northeurope&quot;</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<details><summary>Show `variables.global.tf` contents</summary>
    <div class="highlight"><pre><span></span><code><span class="go">variable &quot;deploy_environment&quot; {</span>
<span class="go">  description = &quot;The environment in which the resources will be created.&quot;</span>
<span class="go">  default = &quot;dev&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;org_name&quot; {</span>
<span class="go">  description = &quot;The name of the organization.&quot;</span>
<span class="go">  default = &quot;anoa&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;environment&quot; {</span>
<span class="go">  description = &quot;The environment in which the resources will be created.&quot;</span>
<span class="go">  default = &quot;public&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;workload_name&quot; {</span>
<span class="go">  description = &quot;The name of the workload.&quot;</span>
<span class="go">  default = &quot;storage&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;location&quot; {</span>
<span class="go">  description = &quot;The location/region where the resources will be created.&quot;</span>
<span class="go">  default     = &quot;northeurope&quot;</span>
<span class="go">}</span>
</code></pre></div>
    </details>

<ol>
<li>
<p>Create a file <code>variables.storage.account.tf</code>.</p>
</li>
<li>
<p>Define the variables for the storage account:</p>
<div class="highlight"><pre><span></span><code><span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;storage_account_name&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The name of the storage account.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;examplest&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;storage_account_tier&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The storage account tier.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Standard&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;storage_account_replication_type&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The storage account replication type.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LRS&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;storage_account_location&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The location of the storage account.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;northeurope&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;storage_account_container_name&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The name of the storage account container.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;example-container&quot;</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<details><summary>Show `variables.storage.account.tf` contents</summary>
    <div class="highlight"><pre><span></span><code><span class="go">variable &quot;storage_account_name&quot; {</span>
<span class="go">  description = &quot;The name of the storage account.&quot;</span>
<span class="go">  default     = &quot;examplest&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;storage_account_tier&quot; {</span>
<span class="go">  description = &quot;The storage account tier.&quot;</span>
<span class="go">  default     = &quot;Standard&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;storage_account_replication_type&quot; {</span>
<span class="go">  description = &quot;The storage account replication type.&quot;</span>
<span class="go">  default     = &quot;LRS&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;storage_account_location&quot; {</span>
<span class="go">  description = &quot;The location of the storage account.&quot;</span>
<span class="go">  default     = &quot;northeurope&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;storage_account_container_name&quot; {</span>
<span class="go">  description = &quot;The name of the storage account container.&quot;</span>
<span class="go">  default     = &quot;example-container&quot;</span>
<span class="go">}</span>
</code></pre></div>

    </details>

<ol>
<li>
<p>Create a file <code>variables.spoke.tf</code>.</p>
</li>
<li>
<p>Define the variables for the virtual network:</p>
<div class="highlight"><pre><span></span><code><span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;vnet_name&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The name of the virtual network.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;example-network&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;vnet_address_space&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The address space of the virtual network.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;subnet_name&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The name of the subnet.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;internal&quot;</span>
<span class="p">}</span>

<span class="kr">variable</span><span class="w"> </span><span class="nv">&quot;subnet_address_prefix&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The address prefix of the subnet.&quot;</span>
<span class="w">  </span><span class="na">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<details><summary>Show `variables.spoke.tf` contents</summary>
    <div class="highlight"><pre><span></span><code><span class="go">variable &quot;vnet_name&quot; {</span>
<span class="go">  description = &quot;The name of the virtual network.&quot;</span>
<span class="go">  default     = &quot;example-network&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;vnet_address_space&quot; {</span>
<span class="go">  description = &quot;The address space of the virtual network.&quot;</span>
<span class="go">  default     = &quot;&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;subnet_name&quot; {</span>
<span class="go">  description = &quot;The name of the subnet.&quot;</span>
<span class="go">  default     = &quot;internal&quot;</span>
<span class="go">}</span>

<span class="go">variable &quot;subnet_address_prefix&quot; {</span>
<span class="go">  description = &quot;The address prefix of the subnet.&quot;</span>
<span class="go">  default     = &quot;&quot;</span>
<span class="go">}</span>
</code></pre></div>

    </details>

<ol>
<li>
<p>Create a file <code>data.tf</code>.</p>
</li>
<li>
<p>Define the variables for the virtual network:</p>
<div class="highlight"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">&quot;azurerm_virtual_network&quot;</span><span class="w"> </span><span class="nv">&quot;hub-vnet&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa-eus-hub-core-dev-vnet&quot;</span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa-eus-hub-core-dev-rg&quot;</span>
<span class="p">}</span>

<span class="kr">data</span><span class="w"> </span><span class="nc">&quot;azurerm_storage_account&quot;</span><span class="w"> </span><span class="nv">&quot;hub-st&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoaeus8173b4d424devst&quot;</span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa-eus-hub-core-dev-rg&quot;</span>
<span class="p">}</span>

<span class="kr">data</span><span class="w"> </span><span class="nc">&quot;azurerm_firewall&quot;</span><span class="w"> </span><span class="nv">&quot;hub-fw&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa-eus-hub-core-dev-fw&quot;</span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa-eus-hub-core-dev-rg&quot;</span>
<span class="p">}</span>

<span class="kr">data</span><span class="w"> </span><span class="nc">&quot;azurerm_log_analytics_workspace&quot;</span><span class="w"> </span><span class="nv">&quot;hub-logws&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa-eus-ops-mgt-logging-dev-log&quot;</span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;anoa-eus-ops-mgt-logging-dev-rg&quot;</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<details><summary>Show `data.tf` contents</summary>
    <div class="highlight"><pre><span></span><code><span class="go">data &quot;azurerm_virtual_network&quot; &quot;hub-vnet&quot; {</span>
<span class="go">  name                = &quot;anoa-eus-hub-core-dev-vnet&quot;</span>
<span class="go">  resource_group_name = &quot;anoa-eus-hub-core-dev-rg&quot;</span>
<span class="go">}</span>

<span class="go">data &quot;azurerm_storage_account&quot; &quot;hub-st&quot; {</span>
<span class="go">  name                = &quot;anoaeus8173b4d424devst&quot;</span>
<span class="go">  resource_group_name = &quot;anoa-eus-hub-core-dev-rg&quot;</span>
<span class="go">}</span>

<span class="go">data &quot;azurerm_firewall&quot; &quot;hub-fw&quot; {</span>
<span class="go">  name                = &quot;anoa-eus-hub-core-dev-fw&quot;</span>
<span class="go">  resource_group_name = &quot;anoa-eus-hub-core-dev-rg&quot;</span>
<span class="go">}</span>

<span class="go">data &quot;azurerm_log_analytics_workspace&quot; &quot;hub-logws&quot; {</span>
<span class="go">  name                = &quot;anoa-eus-ops-mgt-logging-dev-log&quot;</span>
<span class="go">  resource_group_name = &quot;anoa-eus-ops-mgt-logging-dev-rg&quot;</span>
<span class="go">}</span>
</code></pre></div>

    </details>

<ol>
<li>
<p>Create a file <code>modules.spoke.tf</code>.</p>
</li>
<li>
<p>Create a vnet and subnet in the resource group:</p>
<div class="highlight"><pre><span></span><code><span class="kr">module</span><span class="w"> </span><span class="nv">&quot;mod_vnet_spoke&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;azurenoops/overlays-workload-spoke/azurerm&quot;</span>
<span class="w">  </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;~&gt; 1.0.0&quot;</span>

<span class="c1">  # By default, this module will create a resource group, provide the name here</span>
<span class="c1">  # To use an existing resource group, specify the existing resource group name, </span>
<span class="c1">  # and set the argument to `create_resource_group = false`. Location will be same as existing RG.</span>
<span class="w">  </span><span class="na">create_spoke_resource_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
<span class="w">  </span><span class="na">location</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="nv">var.default_location</span>
<span class="w">  </span><span class="na">deploy_environment</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">var.deploy_environment</span>
<span class="w">  </span><span class="na">org_name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="nv">var.org_name</span>
<span class="w">  </span><span class="na">environment</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nv">var.environment</span>
<span class="w">  </span><span class="na">workload_name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nv">var.id_name</span>

<span class="c1">  # Collect Hub Virtual Network Parameters</span>
<span class="c1">  # Hub network details to create peering and other setup</span>
<span class="w">  </span><span class="na">hub_virtual_network_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_virtual_network.hub-vnet.name</span>
<span class="w">  </span><span class="na">hub_firewall_private_ip_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_firewall.hub-fw.ip_configuration[0].private_ip_address</span>
<span class="w">  </span><span class="na">hub_resource_group_name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_virtual_network.hub-vnet.resource_group_name</span>

<span class="c1">  # To enable traffic analytics, set `enable_traffic_analytics = true` in the module.</span>
<span class="w">  </span><span class="na">enable_traffic_analytics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.enable_traffic_analytics</span>

<span class="c1">  # (Required) To enable Azure Monitoring and flow logs</span>
<span class="c1">  # pick the values for log analytics workspace which created by Spoke module</span>
<span class="c1">  # Possible values range between 30 and 730</span>
<span class="w">  </span><span class="na">log_analytics_workspace_id</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_log_analytics_workspace.hub-logws.id</span>
<span class="w">  </span><span class="na">log_analytics_customer_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_log_analytics_workspace.hub-logws.workspace_id</span>
<span class="w">  </span><span class="na">log_analytics_logs_retention_in_days</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span>

<span class="c1">  # Provide valid VNet Address space for spoke virtual network.    </span>
<span class="w">  </span><span class="na">virtual_network_address_space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.id_vnet_address_space</span><span class="c1"> # (Required)  Spoke Virtual Network Parameters</span>

<span class="c1">  # (Required) Multiple Subnets, Service delegation, Service Endpoints, Network security groups</span>
<span class="c1">  # These are default subnets with required configuration, check README.md for more details</span>
<span class="c1">  # Route_table and NSG association to be added automatically for all subnets listed here.</span>
<span class="c1">  # subnet name will be set as per Azure naming convention by default. expected value here is: &lt;App or project name&gt;</span>
<span class="w">  </span><span class="na">spoke_subnets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.id_subnets</span>

<span class="c1">  # By default, forced tunneling is enabled for the spoke.</span>
<span class="c1">  # If you do not want to enable forced tunneling on the spoke route table, </span>
<span class="c1">  # set `enable_forced_tunneling = false`.</span>
<span class="w">  </span><span class="na">enable_forced_tunneling_on_route_table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.enable_forced_tunneling_on_id_route_table</span>

<span class="c1">  # Private DNS Zone Settings</span>
<span class="c1">  # If you do want to create additional Private DNS Zones, </span>
<span class="c1">  # add in the list of private_dns_zones to be created.</span>
<span class="c1">  # else, remove the private_dns_zones argument.</span>
<span class="w">  </span><span class="na">private_dns_zones</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.id_private_dns_zones</span>

<span class="c1">  # By default, this will apply resource locks to all resources created by this module.</span>
<span class="c1">  # To disable resource locks, set the argument to `enable_resource_locks = false`.</span>
<span class="w">  </span><span class="na">enable_resource_locks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.enable_resource_locks</span>

<span class="c1">  # Tags</span>
<span class="w">  </span><span class="na">add_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">local.tags</span><span class="c1"> # Tags to be applied to all resources to all resources</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<details><summary>Show `modules.spoke.tf` contents</summary>
    <div class="highlight"><pre><span></span><code><span class="go">module &quot;mod_vnet_spoke&quot; {</span>
<span class="go">  source  = &quot;azurenoops/overlays-workload-spoke/azurerm&quot;</span>
<span class="go">  version = &quot;~&gt; 1.0.0&quot;</span>

<span class="gp">  # </span>By<span class="w"> </span>default,<span class="w"> </span>this<span class="w"> </span>module<span class="w"> </span>will<span class="w"> </span>create<span class="w"> </span>a<span class="w"> </span>resource<span class="w"> </span>group,<span class="w"> </span>provide<span class="w"> </span>the<span class="w"> </span>name<span class="w"> </span>here
<span class="gp">  # </span>To<span class="w"> </span>use<span class="w"> </span>an<span class="w"> </span>existing<span class="w"> </span>resource<span class="w"> </span>group,<span class="w"> </span>specify<span class="w"> </span>the<span class="w"> </span>existing<span class="w"> </span>resource<span class="w"> </span>group<span class="w"> </span>name,<span class="w"> </span>
<span class="gp">  # </span>and<span class="w"> </span><span class="nb">set</span><span class="w"> </span>the<span class="w"> </span>argument<span class="w"> </span>to<span class="w"> </span><span class="sb">`</span><span class="nv">create_resource_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="sb">`</span>.<span class="w"> </span>Location<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>same<span class="w"> </span>as<span class="w"> </span>existing<span class="w"> </span>RG.
<span class="go">  create_spoke_resource_group = true</span>
<span class="go">  location                    = var.default_location</span>
<span class="go">  deploy_environment          = var.deploy_environment</span>
<span class="go">  org_name                    = var.org_name</span>
<span class="go">  environment                 = var.environment</span>
<span class="go">  workload_name               = var.id_name</span>

<span class="gp">  # </span>Collect<span class="w"> </span>Hub<span class="w"> </span>Virtual<span class="w"> </span>Network<span class="w"> </span>Parameters
<span class="gp">  # </span>Hub<span class="w"> </span>network<span class="w"> </span>details<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>peering<span class="w"> </span>and<span class="w"> </span>other<span class="w"> </span>setup
<span class="go">  hub_virtual_network_name        = data.azurerm_virtual_network.hub-vnet.name</span>
<span class="go">  hub_firewall_private_ip_address = data.azurerm_firewall.hub-fw.ip_configuration[0].private_ip_address</span>
<span class="go">  hub_resource_group_name         = data.azurerm_virtual_network.hub-vnet.resource_group_name</span>

<span class="gp">  # </span>To<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>traffic<span class="w"> </span>analytics,<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="sb">`</span><span class="nv">enable_traffic_analytics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="sb">`</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>module.
<span class="go">  enable_traffic_analytics = var.enable_traffic_analytics</span>

<span class="gp">  # </span><span class="o">(</span>Required<span class="o">)</span><span class="w"> </span>To<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>Azure<span class="w"> </span>Monitoring<span class="w"> </span>and<span class="w"> </span>flow<span class="w"> </span>logs
<span class="gp">  # </span>pick<span class="w"> </span>the<span class="w"> </span>values<span class="w"> </span><span class="k">for</span><span class="w"> </span>log<span class="w"> </span>analytics<span class="w"> </span>workspace<span class="w"> </span>which<span class="w"> </span>created<span class="w"> </span>by<span class="w"> </span>Spoke<span class="w"> </span>module
<span class="gp">  # </span>Possible<span class="w"> </span>values<span class="w"> </span>range<span class="w"> </span>between<span class="w"> </span><span class="m">30</span><span class="w"> </span>and<span class="w"> </span><span class="m">730</span>
<span class="go">  log_analytics_workspace_id           = data.azurerm_log_analytics_workspace.hub-logws.id</span>
<span class="go">  log_analytics_customer_id            = data.azurerm_log_analytics_workspace.hub-logws.workspace_id</span>
<span class="go">  log_analytics_logs_retention_in_days = 30</span>

<span class="gp">  # </span>Provide<span class="w"> </span>valid<span class="w"> </span>VNet<span class="w"> </span>Address<span class="w"> </span>space<span class="w"> </span><span class="k">for</span><span class="w"> </span>spoke<span class="w"> </span>virtual<span class="w"> </span>network.<span class="w">    </span>
<span class="go">  virtual_network_address_space = var.id_vnet_address_space # (Required)  Spoke Virtual Network Parameters</span>

<span class="gp">  # </span><span class="o">(</span>Required<span class="o">)</span><span class="w"> </span>Multiple<span class="w"> </span>Subnets,<span class="w"> </span>Service<span class="w"> </span>delegation,<span class="w"> </span>Service<span class="w"> </span>Endpoints,<span class="w"> </span>Network<span class="w"> </span>security<span class="w"> </span>groups
<span class="gp">  # </span>These<span class="w"> </span>are<span class="w"> </span>default<span class="w"> </span>subnets<span class="w"> </span>with<span class="w"> </span>required<span class="w"> </span>configuration,<span class="w"> </span>check<span class="w"> </span>README.md<span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>details
<span class="gp">  # </span>Route_table<span class="w"> </span>and<span class="w"> </span>NSG<span class="w"> </span>association<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>added<span class="w"> </span>automatically<span class="w"> </span><span class="k">for</span><span class="w"> </span>all<span class="w"> </span>subnets<span class="w"> </span>listed<span class="w"> </span>here.
<span class="gp">  # </span>subnet<span class="w"> </span>name<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span><span class="nb">set</span><span class="w"> </span>as<span class="w"> </span>per<span class="w"> </span>Azure<span class="w"> </span>naming<span class="w"> </span>convention<span class="w"> </span>by<span class="w"> </span>default.<span class="w"> </span>expected<span class="w"> </span>value<span class="w"> </span>here<span class="w"> </span>is:<span class="w"> </span>&lt;App<span class="w"> </span>or<span class="w"> </span>project<span class="w"> </span>name&gt;
<span class="go">  spoke_subnets = var.id_subnets</span>

<span class="gp">  # </span>By<span class="w"> </span>default,<span class="w"> </span>forced<span class="w"> </span>tunneling<span class="w"> </span>is<span class="w"> </span>enabled<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>spoke.
<span class="gp">  # </span>If<span class="w"> </span>you<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>forced<span class="w"> </span>tunneling<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>spoke<span class="w"> </span>route<span class="w"> </span>table,<span class="w"> </span>
<span class="gp">  # </span><span class="nb">set</span><span class="w"> </span><span class="sb">`</span><span class="nv">enable_forced_tunneling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="sb">`</span>.
<span class="go">  enable_forced_tunneling_on_route_table = var.enable_forced_tunneling_on_id_route_table</span>

<span class="gp">  # </span>Private<span class="w"> </span>DNS<span class="w"> </span>Zone<span class="w"> </span>Settings
<span class="gp">  # </span>If<span class="w"> </span>you<span class="w"> </span><span class="k">do</span><span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>additional<span class="w"> </span>Private<span class="w"> </span>DNS<span class="w"> </span>Zones,<span class="w"> </span>
<span class="gp">  # </span>add<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>private_dns_zones<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>created.
<span class="gp">  # </span><span class="k">else</span>,<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>private_dns_zones<span class="w"> </span>argument.
<span class="go">  private_dns_zones = var.id_private_dns_zones</span>

<span class="gp">  # </span>By<span class="w"> </span>default,<span class="w"> </span>this<span class="w"> </span>will<span class="w"> </span>apply<span class="w"> </span>resource<span class="w"> </span>locks<span class="w"> </span>to<span class="w"> </span>all<span class="w"> </span>resources<span class="w"> </span>created<span class="w"> </span>by<span class="w"> </span>this<span class="w"> </span>module.
<span class="gp">  # </span>To<span class="w"> </span>disable<span class="w"> </span>resource<span class="w"> </span>locks,<span class="w"> </span><span class="nb">set</span><span class="w"> </span>the<span class="w"> </span>argument<span class="w"> </span>to<span class="w"> </span><span class="sb">`</span><span class="nv">enable_resource_locks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="sb">`</span>.
<span class="go">  enable_resource_locks = var.enable_resource_locks</span>

<span class="gp">  # </span>Tags
<span class="go">  add_tags = local.tags # Tags to be applied to all resources to all resources</span>
<span class="go">}</span>
</code></pre></div>
    </details>

<ol>
<li>
<p>Create a file <code>modules.storage.account.tf</code>.</p>
</li>
<li>
<p>Create an Azure Storage account with a container and network rules in Azure NoOps:</p>
<div class="highlight"><pre><span></span><code><span class="kr">module</span><span class="w"> </span><span class="nc">&quot;mod_storage_account&quot;</span><span class="w"> </span><span class="nv">&quot;example&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">source</span><span class="o">=</span><span class="s2">&quot;azurenoops/terraform-azurerm-overlays-storage-account/azurerm&quot;</span>
<span class="w">  </span><span class="na">version</span><span class="o">=</span><span class="s2">&quot;0.1.0&quot;</span>

<span class="c1">  # Resource Group, location, VNet and Subnet details</span>
<span class="w">  </span><span class="na">create_storage_resource_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
<span class="w">  </span><span class="na">location</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="nv">var.location</span>
<span class="w">  </span><span class="na">deploy_environment</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">var.deploy_environment</span>
<span class="w">  </span><span class="na">org_name</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="nv">var.org_name</span>
<span class="w">  </span><span class="na">environment</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="nv">var.environment</span>
<span class="w">  </span><span class="na">workload_name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nv">var.workload_name</span>

<span class="c1">  # Storage Account details</span>
<span class="w">  </span><span class="na">account_tier</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Standard&quot;</span>
<span class="w">  </span><span class="na">account_replication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LRS&quot;</span>

<span class="c1">  # Storage Container details</span>
<span class="w">  </span><span class="na">containers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;container1&quot;</span>
<span class="w">      </span><span class="na">public_access</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;private&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;container2&quot;</span>
<span class="w">      </span><span class="na">public_access</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;private&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>

<span class="c1">  # Network rules </span>
<span class="w">  </span><span class="nb">network_rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">default_firewall_action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Deny&quot;</span>
<span class="w">    </span><span class="na">bypass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;AzureServices&quot;</span>
<span class="w">    </span><span class="na">subnet_ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">azurerm_subnet.example.id</span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>

<span class="c1">  # To enable advanced threat protection set argument to `true`</span>
<span class="w">  </span><span class="na">enable_advanced_threat_protection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>

<span class="c1">  # Enable private endpoint for storage account (Optional)</span>
<span class="w">  </span><span class="na">enable_blob_private_endpoint</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
<span class="w">  </span><span class="na">virtual_network_name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_virtual_network.example.name</span>
<span class="w">  </span><span class="na">existing_private_subnet_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_subnet.example.name</span>

<span class="c1">  # Locks</span>
<span class="w">  </span><span class="na">enable_resource_locks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w">      </span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<details><summary>Show `modules.storage.account.tf` contents</summary>
    <div class="highlight"><pre><span></span><code><span class="go">module &quot;mod_storage_account&quot; &quot;example&quot; {</span>
<span class="go">  source=&quot;azurenoops/terraform-azurerm-overlays-storage-account/azurerm&quot;</span>
<span class="go">  version=&quot;0.1.0&quot;</span>

<span class="gp">  # </span>Resource<span class="w"> </span>Group,<span class="w"> </span>location,<span class="w"> </span>VNet<span class="w"> </span>and<span class="w"> </span>Subnet<span class="w"> </span>details
<span class="go">  create_storage_resource_group = true</span>
<span class="go">  location                      = var.location</span>
<span class="go">  deploy_environment            = var.deploy_environment</span>
<span class="go">  org_name                      = var.org_name</span>
<span class="go">  environment                   = var.environment</span>
<span class="go">  workload_name                 = var.workload_name</span>

<span class="gp">  # </span>Storage<span class="w"> </span>Account<span class="w"> </span>details
<span class="go">  account_tier             = &quot;Standard&quot;</span>
<span class="go">  account_replication_type = &quot;LRS&quot;</span>

<span class="gp">  # </span>Storage<span class="w"> </span>Container<span class="w"> </span>details
<span class="go">  containers = [ </span>
<span class="go">    {</span>
<span class="go">      name = &quot;container1&quot;</span>
<span class="go">      public_access = &quot;private&quot;</span>
<span class="go">    },</span>
<span class="go">    {</span>
<span class="go">      name = &quot;container2&quot;</span>
<span class="go">      public_access = &quot;private&quot;</span>
<span class="go">    }</span>
<span class="go">  ]</span>

<span class="gp">  # </span>Network<span class="w"> </span>rules<span class="w"> </span>
<span class="go">  network_rules = {</span>
<span class="go">    default_firewall_action = &quot;Deny&quot;</span>
<span class="go">    bypass = &quot;AzureServices&quot;</span>
<span class="go">    subnet_ids = [azurerm_subnet.example.id]</span>
<span class="go">  }</span>

<span class="gp">  # </span>To<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>advanced<span class="w"> </span>threat<span class="w"> </span>protection<span class="w"> </span><span class="nb">set</span><span class="w"> </span>argument<span class="w"> </span>to<span class="w"> </span><span class="sb">`</span><span class="nb">true</span><span class="sb">`</span>
<span class="go">  enable_advanced_threat_protection = true</span>

<span class="gp">  # </span>Enable<span class="w"> </span>private<span class="w"> </span>endpoint<span class="w"> </span><span class="k">for</span><span class="w"> </span>storage<span class="w"> </span>account<span class="w"> </span><span class="o">(</span>Optional<span class="o">)</span>
<span class="go">  enable_blob_private_endpoint  = true</span>
<span class="go">  virtual_network_name         = azurerm_virtual_network.example.name</span>
<span class="go">  existing_private_subnet_name = azurerm_subnet.example.name</span>

<span class="gp">  # </span>Locks
<span class="go">  enable_resource_locks = false</span>
<span class="go">}</span>
</code></pre></div>
    </details>

<ol>
<li>
<p>Create a file <code>resources.storage.account.cmk.tf</code>.</p>
</li>
<li>
<p>Create a customer managed key for the storage account:</p>
<div class="highlight"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;azurerm_storage_account_customer_managed_key&quot;</span><span class="w"> </span><span class="nv">&quot;example&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">storage_account_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_storage_account.example.id</span>
<span class="w">  </span><span class="na">key_vault_key_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_key_vault_key.example.id</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;azurerm_key_vault&quot;</span><span class="w"> </span><span class="nv">&quot;example&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;example-kv&quot;</span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_resource_group.example.name</span>
<span class="w">  </span><span class="na">location</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_resource_group.example.location</span>
<span class="w">  </span><span class="na">sku_name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;standard&quot;</span>
<span class="w">  </span><span class="na">tenant_id</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_client_config.current.tenant_id</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;azurerm_key_vault_key&quot;</span><span class="w"> </span><span class="nv">&quot;example&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;example-key&quot;</span>
<span class="w">  </span><span class="na">key_vault_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_key_vault.example.id</span>
<span class="w">  </span><span class="na">key_type</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;RSA&quot;</span>
<span class="w">  </span><span class="na">key_size</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">2048</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;azurerm_key_vault_access_policy&quot;</span><span class="w"> </span><span class="nv">&quot;example&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">key_vault_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_key_vault.example.id</span>
<span class="w">  </span><span class="na">tenant_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_client_config.current.tenant_id</span>

<span class="w">  </span><span class="na">certificate_permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;get&quot;, &quot;list&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="na">key_permissions</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;get&quot;, &quot;list&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="na">secret_permissions</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;get&quot;, &quot;list&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="na">storage_permissions</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;get&quot;, &quot;list&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p><details><summary>Show <code>resources.storage.account.cmk.tf</code> contents</summary></p>
<div class="highlight"><pre><span></span><code><span class="go">resource &quot;azurerm_storage_account_customer_managed_key&quot; &quot;example&quot; {</span>
<span class="go">  storage_account_id = azurerm_storage_account.example.id</span>
<span class="go">  key_vault_key_id   = azurerm_key_vault_key.example.id</span>
<span class="go">}</span>

<span class="go">resource &quot;azurerm_key_vault&quot; &quot;example&quot; {</span>
<span class="go">  name                = &quot;example-kv&quot;</span>
<span class="go">  resource_group_name = data.azurerm_resource_group.example.name</span>
<span class="go">  location            = data.azurerm_resource_group.example.location</span>
<span class="go">  sku_name            = &quot;standard&quot;</span>
<span class="go">  tenant_id           = data.azurerm_client_config.current.tenant_id</span>
<span class="go">}</span>

<span class="go">resource &quot;azurerm_key_vault_key&quot; &quot;example&quot; {</span>
<span class="go">  name         = &quot;example-key&quot;</span>
<span class="go">  key_vault_id = azurerm_key_vault.example.id</span>
<span class="go">  key_type     = &quot;RSA&quot;</span>
<span class="go">  key_size     = 2048</span>
<span class="go">}</span>

<span class="go">resource &quot;azurerm_key_vault_access_policy&quot; &quot;example&quot; {</span>
<span class="go">  key_vault_id = azurerm_key_vault.example.id</span>
<span class="go">  tenant_id    = data.azurerm_client_config.current.tenant_id</span>

<span class="go">  certificate_permissions = [&quot;get&quot;, &quot;list&quot;]</span>
<span class="go">  key_permissions         = [&quot;get&quot;, &quot;list&quot;]</span>
<span class="go">  secret_permissions      = [&quot;get&quot;, &quot;list&quot;]</span>
<span class="go">  storage_permissions     = [&quot;get&quot;, &quot;list&quot;]</span>
<span class="go">}</span>
</code></pre></div>
</details>
</li>
<li>
<p>Initialize your Terraform configuration to install all required provider plugins:</p>
<div class="highlight"><pre><span></span><code><span class="go">terraform init</span>
</code></pre></div>
<p>Two files will be automatically created:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.terraform</code></td>
<td>A directory containing installed provider plugins</td>
</tr>
<tr>
<td><code>.terraform.lock.hcl</code></td>
<td>A file containing a record of installed provider plugins</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Validate your Terraform configuration to check for errors such as non-existent references:</p>
<div class="highlight"><pre><span></span><code><span class="go">terraform validate</span>
</code></pre></div>
</li>
<li>
<p>Generate an execution plan and store it in a file <code>tfplan</code>:</p>
<div class="highlight"><pre><span></span><code><span class="go">terraform plan -out=tfplan</span>
</code></pre></div>
<p>A single file will be automatically created:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tfplan</code></td>
<td>A file containing the generated execution plan</td>
</tr>
</tbody>
</table>
<p><details><summary>Show execution plan</summary></p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>terraform<span class="w"> </span>show<span class="w"> </span>tfplan

<span class="go">Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:</span>
<span class="go">  + create</span>

<span class="go">Terraform will perform the following actions:</span>

<span class="gp">  # </span>azurerm_storage_account.example<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>created
<span class="go">  + resource &quot;azurerm_storage_account&quot; &quot;example&quot; {</span>
<span class="go">      + access_tier                       = (known after apply)</span>
<span class="go">      + account_kind                      = &quot;StorageV2&quot;</span>
<span class="go">      + account_replication_type          = &quot;LRS&quot;</span>
<span class="go">      + account_tier                      = &quot;Standard&quot;</span>
<span class="go">      + allow_nested_items_to_be_public   = true</span>
<span class="go">      + cross_tenant_replication_enabled  = true</span>
<span class="go">      + default_to_oauth_authentication   = false</span>
<span class="go">      + enable_https_traffic_only         = true</span>
<span class="go">      + id                                = (known after apply)</span>
<span class="go">      + infrastructure_encryption_enabled = false</span>
<span class="go">      + is_hns_enabled                    = false</span>
<span class="go">      + large_file_share_enabled          = (known after apply)</span>
<span class="go">      + location                          = &quot;northeurope&quot;</span>
<span class="go">      + min_tls_version                   = &quot;TLS1_2&quot;</span>
<span class="go">      + name                              = (known after apply)</span>
<span class="go">      + nfsv3_enabled                     = false</span>
<span class="go">      + primary_access_key                = (sensitive value)</span>
<span class="go">      + primary_blob_connection_string    = (sensitive value)</span>
<span class="go">      + primary_blob_endpoint             = (known after apply)</span>
<span class="go">      + primary_blob_host                 = (known after apply)</span>
<span class="go">      + primary_connection_string         = (sensitive value)</span>
<span class="go">      + primary_dfs_endpoint              = (known after apply)</span>
<span class="go">      + primary_dfs_host                  = (known after apply)</span>
<span class="go">      + primary_file_endpoint             = (known after apply)</span>
<span class="go">      + primary_file_host                 = (known after apply)</span>
<span class="go">      + primary_location                  = (known after apply)</span>
<span class="go">      + primary_queue_endpoint            = (known after apply)</span>
<span class="go">      + primary_queue_host                = (known after apply)</span>
<span class="go">      + primary_table_endpoint            = (known after apply)</span>
<span class="go">      + primary_table_host                = (known after apply)</span>
<span class="go">      + primary_web_endpoint              = (known after apply)</span>
<span class="go">      + primary_web_host                  = (known after apply)</span>
<span class="go">      + public_network_access_enabled     = true</span>
<span class="go">      + queue_encryption_key_type         = &quot;Service&quot;</span>
<span class="go">      + resource_group_name               = &quot;example-rg&quot;</span>
<span class="go">      + secondary_access_key              = (sensitive value)</span>
<span class="go">      + secondary_blob_connection_string  = (sensitive value)</span>
<span class="go">      + secondary_blob_endpoint           = (known after apply)</span>
<span class="go">      + secondary_blob_host               = (known after apply)</span>
<span class="go">      + secondary_connection_string       = (sensitive value)</span>
<span class="go">      + secondary_dfs_endpoint            = (known after apply)</span>
<span class="go">      + secondary_dfs_host                = (known after apply)</span>
<span class="go">      + secondary_file_endpoint           = (known after apply)</span>
<span class="go">      + secondary_file_host               = (known after apply)</span>
<span class="go">      + secondary_location                = (known after apply)</span>
<span class="go">      + secondary_queue_endpoint          = (known after apply)</span>
<span class="go">      + secondary_queue_host              = (known after apply)</span>
<span class="go">      + secondary_table_endpoint          = (known after apply)</span>
<span class="go">      + secondary_table_host              = (known after apply)</span>
<span class="go">      + secondary_web_endpoint            = (known after apply)</span>
<span class="go">      + secondary_web_host                = (known after apply)</span>
<span class="go">      + sftp_enabled                      = false</span>
<span class="go">      + shared_access_key_enabled         = true</span>
<span class="go">      + table_encryption_key_type         = &quot;Service&quot;</span>
<span class="go">    }</span>

<span class="gp">  # </span>random_id.suffix<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>created
<span class="go">  + resource &quot;random_id&quot; &quot;suffix&quot; {</span>
<span class="go">      + b64_std     = (known after apply)</span>
<span class="go">      + b64_url     = (known after apply)</span>
<span class="go">      + byte_length = 8</span>
<span class="go">      + dec         = (known after apply)</span>
<span class="go">      + hex         = (known after apply)</span>
<span class="go">      + id          = (known after apply)</span>
<span class="go">    }</span>

<span class="go">Plan: 2 to add, 0 to change, 0 to destroy.</span>
</code></pre></div>
</details>
</li>
<li>
<p>Run the execution plan:</p>
<div class="highlight"><pre><span></span><code><span class="go">terraform apply tfplan</span>
</code></pre></div>
<p>This will create the resources shown in the execution plan.</p>
<p>A single file will be automatically created:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>terraform.tfstate</code></td>
<td>A file containing the last known configuration (state) of your infrastructure</td>
</tr>
</tbody>
</table>
<p>Feel free to have a quick look at the state file.
Notice how the state file keeps track of the configuration of all read data sources and created resources.
You must never modify the state file manually; all changes should go through Terraform.</p>
</li>
<li>
<p>Verify that the Storage account has been created in the resource group:</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>az<span class="w"> </span>resource<span class="w"> </span>list<span class="w"> </span>-g<span class="w"> </span>example-rg<span class="w"> </span>-o<span class="w"> </span>table
<span class="go">Name               ResourceGroup    Location     Type                               Status</span>
<span class="go">-----------------  ---------------  -----------  ---------------------------------  --------</span>
<span class="go">examplestd64f295a  example-rg       northeurope  Microsoft.Storage/storageAccounts</span>
</code></pre></div>
<blockquote>
<p>It might take a few minutes before the Storage account appears in the output.</p>
</blockquote>
</li>
</ol>
<p>Congrats, you've created your first resource using Terraform!</p>
<p>As mentioned earlier, Terraform not only allows you to create new resources, but to effectively manage its entire lifecycle.</p>
<p>Next, we'll make an update to the Storage account configuration, before we tear it all down again!</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../syntax/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Syntax">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Syntax
              </div>
            </div>
          </a>
        
        
          
          <a href="../update-resources/" class="md-footer__link md-footer__link--next" aria-label="Next: Update resources">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Update resources
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 - Microsoft Corporation
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.top", "navigation.footer"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.cd18aaf1.min.js"></script>
      
    
  </body>
</html>